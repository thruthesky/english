<section id="reservation" class="part">
<reservation-banner-component *ngIf="numberDesign == 'first'"></reservation-banner-component>
<second-reservation-banner-component *ngIf="numberDesign == 'second'"></second-reservation-banner-component>

<div class="reservation">

    <div class="reservation-container">
        <div class="date-container">
        <div class="prev-month"  on-mouseleave="showPrevious=false">   
            <span class="show-list" (click)="showPrevious=!showPrevious">
                <i *ngIf="showPrevious" class="fa fa-arrow-circle-up" aria-hidden="true"></i>
                <i *ngIf="!showPrevious" class="fa fa-arrow-circle-down" aria-hidden="true"></i>
            </span>
            <div on-mouseover="showPrevious=true" (click)="onClickPrev()"><span >{{ prevMonths[1]?.m}} {{ prevMonths[1]?.Y}}</span></div>
            
            <div class="prev-months" *ngIf="showPrevious">   
                <ul>
                    <li class="prev" *ngFor="let prev of prevMonths | slice:2" (click)="selectNewDate({m:prev.m,Y:prev.Y})"> {{ prev.m }} {{ prev.Y }}</li>
                </ul>
            </div>
        </div>
 
        <div class="next-month" on-mouseleave="showNext=false">
            <span class="show-list" (click)="showNext=!showNext">
                <i *ngIf="showNext" class="fa fa-arrow-circle-up" aria-hidden="true"></i>
                <i *ngIf="!showNext" class="fa fa-arrow-circle-down" aria-hidden="true"></i>
            </span>
            <div  on-mouseover="showNext=true" (click)="onClickNext()" ><span >{{ nextMonths[0]?.m}} {{ nextMonths[0]?.Y}}</span></div>   
            <div class="next-months" *ngIf="showNext">   
                <ul>
                    <li class="next" *ngFor="let next of nextMonths | slice:1" (click)="selectNewDate({m:next.m,Y:next.Y})"> {{ next.m }} {{ next.Y }}</li>
                </ul>
            </div>
        </div>
       
        <div class="this-month" on-mouseleave="showYear=false">
            <span class="show-list" (click)="showYear=!showYear">
                <i *ngIf="showYear" class="fa fa-arrow-circle-up" aria-hidden="true"></i>
                <i *ngIf="!showYear" class="fa fa-arrow-circle-down" aria-hidden="true"></i>
            </span>
            <div on-mouseover="showYear=true"><span>{{ prevMonths[0]?.m}} {{ prevMonths[0]?.Y}}</span></div>   
          
          <div class="this-months" *ngIf="showYear">   
                <ul>
                    <li class="this-year" *ngFor="let year of listOfYears" (click)="selectNewDate({m:year.m,Y:year.Y})"> {{ year.m }} {{ year.Y }}</li>
                </ul>
            </div>
        </div>
        </div>
       
        
        <table class="table">
            <thead>
                <th class="calendar-day-head">Sun</th>
                <th class="calendar-day-head">Mon</th>
                <th class="calendar-day-head">Tue</th>
                <th class="calendar-day-head">Wed</th>
                <th class="calendar-day-head">Thu</th>
                <th class="calendar-day-head">Fri</th> 
                <th class="calendar-day-head">Sat</th>
            </thead>
            <tbody>
                <tr *ngFor="let week of weeks">
                    <td *ngFor="let day of week;" class="calendar-day" >
                        <div class="info-container" (click)="onClickClassInfo(day)" >
                            <span class="my-date">{{day?.myDate}}</span>
                            <!--<span *ngIf="day.myDate">{{day.myDate}} / {{ day.date }}</span>-->
                            
                            <div class ="teacher-icon" [innerHTML]="day?.icon" on-mouseover="day.display = true" on-mouseleave="day.display = false"></div>
                            <div class="teacher-nick">{{day?.teacher?.mb_nick}}</div>
                            <div class="class-info" *ngIf="day?.display && day?.teacher">
                                <div>
                                    <span >
                                        Teacher's Name: {{ day?.teacher?.mb_nick }}
                                    </span>
                                    
                                </div>
                                <div>
                                    <span>
                                        Date: {{ day?.date }}
                                    </span>
                                </div>
                                <div>
                                    <span>
                                        Book: {{ day?.book }}
                                    </span>
                                </div>
                                <div>
                                    <span>
                                        Teacher's Comment: {{ day?.rate_comment }}
                                    </span>
                                </div>
                            </div>
                        </div>
                        <!--Sample https://englishfordevelopers.com/api/data/teacher/primary_photo_27018-->
                    </td>
                </tr>
            </tbody>
        </table>
        <div *ngIf="this.calendarLoad" class="calendar-loader">
          <div class="loader"><i class="fa fa-spinner fa-pulse"></i></div>
        </div>
    </div>
</div>

</section>